{"ast":null,"code":"import _slicedToArray from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{format}from'date-fns';import React,{useState}from'react';import{useQuery}from'react-query';import Loading from'../../Components/Loading/Loading';import Offer from'../Offer/Offer';import BookingForm from'./BookingForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Booking=function Booking(_ref){var date=_ref.date;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),treatment=_useState2[0],setTreatment=_useState2[1];var formattedDate=format(date,'PP');var _useQuery=useQuery(['available',formattedDate],function(){return fetch(\"http://localhost:5000/available?date=\".concat(formattedDate)).then(function(res){return res.json();});}),isLoading=_useQuery.isLoading,error=_useQuery.error,refetch=_useQuery.refetch,appointments=_useQuery.data;if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}if(error){return/*#__PURE__*/_jsxs(\"h3\",{className:\"text-red-700 font-bold\",children:[\"An error has occurred: \",error.message]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"booking px-5 my-20\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"title py-10\",children:[\"Available Appointments on \",format(date,'PP')]}),/*#__PURE__*/_jsx(\"div\",{className:\"appointments grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3\",children:appointments===null||appointments===void 0?void 0:appointments.map(function(appointment){return/*#__PURE__*/_jsx(Offer,{setTreatment:setTreatment,appointment:appointment},appointment._id);})}),treatment&&/*#__PURE__*/_jsx(BookingForm,{refetch:refetch,Date:date,setTreatment:setTreatment,treatment:treatment})]});};export default Booking;","map":{"version":3,"names":["format","React","useState","useQuery","Loading","Offer","BookingForm","Booking","date","treatment","setTreatment","formattedDate","fetch","then","res","json","isLoading","error","refetch","appointments","data","message","map","appointment","_id"],"sources":["/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/src/Components/Booking/Booking.jsx"],"sourcesContent":["import { format } from 'date-fns';\nimport React, { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport Loading from '../../Components/Loading/Loading';\nimport Offer from '../Offer/Offer';\nimport BookingForm from './BookingForm';\nconst Booking = ({date}) => {\n    const [treatment, setTreatment] = useState(null);\n    const formattedDate = format(date, 'PP');\n    const { isLoading, error,refetch, data:appointments } = useQuery(['available',formattedDate], () =>\n    fetch(`http://localhost:5000/available?date=${formattedDate}`).then(res =>\n      res.json())\n    )\n    if (isLoading){\n        return <Loading/>\n    }\n \n    if (error){ \n        return <h3 className='text-red-700 font-bold'>An error has occurred: {error.message}</h3>\n    }\n  \n    return (\n        <div className='booking px-5 my-20'>\n            <h6 className=\"title py-10\">Available Appointments on {format(date, 'PP')}</h6>\n            <div className=\"appointments grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3\">\n                {\n                    appointments?.map(appointment => <Offer key={appointment._id} setTreatment={setTreatment} appointment={appointment}/>)\n                }\n            </div>\n            {treatment && <BookingForm refetch={refetch} Date={date} setTreatment={setTreatment} treatment={treatment}/>}\n        </div>\n    );\n};\n\nexport default Booking;"],"mappings":"uLAAA,OAASA,MAAT,KAAuB,UAAvB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CACxB,cAAkCN,QAAQ,CAAC,IAAD,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,aAAa,CAAGX,MAAM,CAACQ,IAAD,CAAO,IAAP,CAA5B,CACA,cAAwDL,QAAQ,CAAC,CAAC,WAAD,CAAaQ,aAAb,CAAD,CAA8B,iBAC9FC,CAAAA,KAAK,gDAAyCD,aAAzC,EAAL,CAA+DE,IAA/D,CAAoE,SAAAC,GAAG,QACrEA,CAAAA,GAAG,CAACC,IAAJ,EADqE,EAAvE,CAD8F,EAA9B,CAAhE,CAAQC,SAAR,WAAQA,SAAR,CAAmBC,KAAnB,WAAmBA,KAAnB,CAAyBC,OAAzB,WAAyBA,OAAzB,CAAuCC,YAAvC,WAAkCC,IAAlC,CAIA,GAAIJ,SAAJ,CAAc,CACV,mBAAO,KAAC,OAAD,IAAP,CACH,CAED,GAAIC,KAAJ,CAAU,CACN,mBAAO,YAAI,SAAS,CAAC,wBAAd,qCAA+DA,KAAK,CAACI,OAArE,GAAP,CACH,CAED,mBACI,aAAK,SAAS,CAAC,oBAAf,wBACI,YAAI,SAAS,CAAC,aAAd,wCAAuDrB,MAAM,CAACQ,IAAD,CAAO,IAAP,CAA7D,GADJ,cAEI,YAAK,SAAS,CAAC,mEAAf,UAEQW,YAFR,SAEQA,YAFR,iBAEQA,YAAY,CAAEG,GAAd,CAAkB,SAAAC,WAAW,qBAAI,KAAC,KAAD,EAA6B,YAAY,CAAEb,YAA3C,CAAyD,WAAW,CAAEa,WAAtE,EAAYA,WAAW,CAACC,GAAxB,CAAJ,EAA7B,CAFR,EAFJ,CAOKf,SAAS,eAAI,KAAC,WAAD,EAAa,OAAO,CAAES,OAAtB,CAA+B,IAAI,CAAEV,IAArC,CAA2C,YAAY,CAAEE,YAAzD,CAAuE,SAAS,CAAED,SAAlF,EAPlB,GADJ,CAWH,CA1BD,CA4BA,cAAeF,CAAAA,OAAf"},"metadata":{},"sourceType":"module"}