{"ast":null,"code":"import React from'react';import{useQuery}from'react-query';import Loading from'../../Components/Loading/Loading';import UserRow from'./UserRow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var User=function User(_ref){var date=_ref.date;var _useQuery=useQuery('users',function(){return fetch(\"http://localhost:5000/users\",{method:'GET',headers:{'authorization':\"user \".concat(localStorage.getItem('accessToken'))}}).then(function(res){return res.json();});}),isLoading=_useQuery.isLoading,error=_useQuery.error,refetch=_useQuery.refetch,users=_useQuery.data;if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}if(error){return/*#__PURE__*/_jsxs(\"h3\",{className:\"text-red-700 font-bold\",children:[\"An error has occurred: \",error.message]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"allUsers\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl\",children:[\"All Users: \",users===null||users===void 0?void 0:users.length]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto my-5\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Admins\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users===null||users===void 0?void 0:users.map(function(user,index){return/*#__PURE__*/_jsx(UserRow,{user:user,index:index,refetch:refetch},user._id);})})]})})]});};export default User;","map":{"version":3,"names":["React","useQuery","Loading","UserRow","User","date","fetch","method","headers","localStorage","getItem","then","res","json","isLoading","error","refetch","users","data","message","length","map","user","index","_id"],"sources":["/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/src/Pages/Dashboard/User.jsx"],"sourcesContent":["import React from 'react';\nimport { useQuery } from 'react-query';\nimport Loading from '../../Components/Loading/Loading';\nimport UserRow from './UserRow';\nconst User = ({date}) => {\n    const { isLoading, error,refetch, data:users } = useQuery('users', () =>\n    fetch(`http://localhost:5000/users`,{\n        method:'GET',\n        headers:{\n            'authorization': `user ${localStorage.getItem('accessToken')}`\n        }\n    }).then(res =>\n      res.json()))\n    if (isLoading){\n        return <Loading/>\n    }\n \n    if (error){ \n        return <h3 className='text-red-700 font-bold'>An error has occurred: {error.message}</h3>\n    }\n    return (\n        <div className='allUsers'>\n           <h2 className=\"text-2xl\">All Users: {users?.length}</h2>\n           <div className=\"overflow-x-auto my-5\">\n                <table className=\"table w-full\">\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>Name</th>\n                            <th>Admins</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                             users?.map((user,index) =><UserRow\n                             key={user._id}\n                             user={user}\n                             index={index}\n                             refetch={refetch}\n                             />)\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nexport default User;"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CACrB,cAAiDJ,QAAQ,CAAC,OAAD,CAAU,iBACnEK,CAAAA,KAAK,+BAA+B,CAChCC,MAAM,CAAC,KADyB,CAEhCC,OAAO,CAAC,CACJ,+BAAyBC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAzB,CADI,CAFwB,CAA/B,CAAL,CAKGC,IALH,CAKQ,SAAAC,GAAG,QACTA,CAAAA,GAAG,CAACC,IAAJ,EADS,EALX,CADmE,EAAV,CAAzD,CAAQC,SAAR,WAAQA,SAAR,CAAmBC,KAAnB,WAAmBA,KAAnB,CAAyBC,OAAzB,WAAyBA,OAAzB,CAAuCC,KAAvC,WAAkCC,IAAlC,CAQA,GAAIJ,SAAJ,CAAc,CACV,mBAAO,KAAC,OAAD,IAAP,CACH,CAED,GAAIC,KAAJ,CAAU,CACN,mBAAO,YAAI,SAAS,CAAC,wBAAd,qCAA+DA,KAAK,CAACI,OAArE,GAAP,CACH,CACD,mBACI,aAAK,SAAS,CAAC,UAAf,wBACG,YAAI,SAAS,CAAC,UAAd,yBAAqCF,KAArC,SAAqCA,KAArC,iBAAqCA,KAAK,CAAEG,MAA5C,GADH,cAEG,YAAK,SAAS,CAAC,sBAAf,uBACK,eAAO,SAAS,CAAC,cAAjB,wBACI,oCACI,mCACI,aADJ,cAEI,4BAFJ,cAGI,8BAHJ,cAII,+BAJJ,GADJ,EADJ,cASI,uBAESH,KAFT,SAESA,KAFT,iBAESA,KAAK,CAAEI,GAAP,CAAW,SAACC,IAAD,CAAMC,KAAN,qBAAe,KAAC,OAAD,EAE1B,IAAI,CAAED,IAFoB,CAG1B,KAAK,CAAEC,KAHmB,CAI1B,OAAO,CAAEP,OAJiB,EACrBM,IAAI,CAACE,GADgB,CAAf,EAAX,CAFT,EATJ,GADL,EAFH,GADJ,CA2BH,CA3CD,CA6CA,cAAepB,CAAAA,IAAf"},"metadata":{},"sourceType":"module"}