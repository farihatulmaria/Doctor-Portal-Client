{"ast":null,"code":"import _objectSpread from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{useCreateUserWithEmailAndPassword,useSignInWithGoogle,useUpdateProfile}from'react-firebase-hooks/auth';import{useForm}from'react-hook-form';import{Link,useLocation,useNavigate}from'react-router-dom';import Loading from'../../Components/Loading/Loading';import auth from'../../firebase.js';import useToken from'../../hooks/useToken';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var _location$state,_location$state$from;var _useSignInWithGoogle=useSignInWithGoogle(auth),_useSignInWithGoogle2=_slicedToArray(_useSignInWithGoogle,4),signInWithGoogle=_useSignInWithGoogle2[0],googleUser=_useSignInWithGoogle2[1],googleLoading=_useSignInWithGoogle2[2],googleError=_useSignInWithGoogle2[3];var _useCreateUserWithEma=useCreateUserWithEmailAndPassword(auth),_useCreateUserWithEma2=_slicedToArray(_useCreateUserWithEma,4),createUserWithEmailAndPassword=_useCreateUserWithEma2[0],user=_useCreateUserWithEma2[1],loading=_useCreateUserWithEma2[2],error=_useCreateUserWithEma2[3];var _useUpdateProfile=useUpdateProfile(auth),_useUpdateProfile2=_slicedToArray(_useUpdateProfile,3),updateProfile=_useUpdateProfile2[0],updating=_useUpdateProfile2[1],updatingError=_useUpdateProfile2[2];var _useToken=useToken(user||googleUser),_useToken2=_slicedToArray(_useToken,1),token=_useToken2[0];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var handleLoginWithEmailAndPass=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var name,email,passWord;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=data.name;email=data.email;passWord=data.password;if(!(email&&passWord)){_context.next=8;break;}_context.next=6;return createUserWithEmailAndPassword(email,passWord);case 6:_context.next=8;return updateProfile({displayName:name});case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleLoginWithEmailAndPass(_x){return _ref.apply(this,arguments);};}();var navigate=useNavigate();var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";if(loading||updating||googleLoading){return/*#__PURE__*/_jsx(Loading,{});}if(token){navigate(from);}return/*#__PURE__*/_jsx(\"div\",{className:\"SignUp\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flexible h-[700px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card w-96 bg-base-100 shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title font-light mx-auto my-3\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleLoginWithEmailAndPass),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Name\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register(\"name\",{required:true,maxLength:100})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\"},register(\"email\",{required:{value:true,message:'Please type your email'},pattern:/[a-z0-9]+@[a-z]+\\.[a-z]{2,3}/})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register(\"password\",{})),{},{required:true}))]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs underline my-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\"Forgot Password ?\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full my-3\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-center\",children:[\"Already have an account?\",/*#__PURE__*/_jsx(Link,{className:\"!text-primary\",to:\"/login\",children:\"Login now\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-center\",children:(error===null||error===void 0?void 0:error.message)||(updatingError===null||updatingError===void 0?void 0:updatingError.message)||googleError.message}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-outlined\",onClick:function onClick(){return signInWithGoogle();},children:\"Continue with Google\"})]})})})});};export default SignUp;","map":{"version":3,"names":["React","useCreateUserWithEmailAndPassword","useSignInWithGoogle","useUpdateProfile","useForm","Link","useLocation","useNavigate","Loading","auth","useToken","SignUp","signInWithGoogle","googleUser","googleLoading","googleError","createUserWithEmailAndPassword","user","loading","error","updateProfile","updating","updatingError","token","register","handleSubmit","handleLoginWithEmailAndPass","data","name","email","passWord","password","displayName","navigate","location","from","state","pathname","required","maxLength","value","message","pattern"],"sources":["/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/src/Pages/SignUp/SignUp.jsx"],"sourcesContent":["import React from 'react';\nimport { useCreateUserWithEmailAndPassword, useSignInWithGoogle, useUpdateProfile } from 'react-firebase-hooks/auth';\nimport { useForm } from 'react-hook-form';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport Loading from '../../Components/Loading/Loading';\nimport auth from '../../firebase.js';\nimport useToken from '../../hooks/useToken';\nconst SignUp = () => {\n    const [signInWithGoogle, googleUser, googleLoading, googleError] = useSignInWithGoogle(auth);\n    const [\n        createUserWithEmailAndPassword,\n        user,\n        loading,\n        error,\n      ] = useCreateUserWithEmailAndPassword(auth);\n\n    const [updateProfile, updating ,updatingError] = useUpdateProfile(auth);\n\n    const [token] = useToken(user||googleUser);\n\n    const { register, handleSubmit } = useForm();\n    const handleLoginWithEmailAndPass = async (data) => {\n        const name = data.name;\n        const email = data.email;\n        const passWord = data.password;\n        if(email && passWord){\n            await createUserWithEmailAndPassword(email,passWord);\n            await updateProfile({ displayName:name });\n        }\n    }\n\n    const navigate = useNavigate();\n    let location = useLocation();\n    let from = location.state?.from?.pathname || \"/\";\n    \n    if(loading || updating || googleLoading){\n        return <Loading/>\n    }\n    if(token){\n        navigate(from);\n    }\n    return (\n        <div className='SignUp'>\n           <div className=\"flexible h-[700px]\">\n                <div className=\"card w-96 bg-base-100 shadow-xl\">\n                        <div className=\"card-body\">\n                            <h2 className=\"card-title font-light mx-auto my-3\">Sign Up</h2>\n                            <form onSubmit={handleSubmit(handleLoginWithEmailAndPass)}>\n                                \n                                <div className=\"form-control\">\n                                    <label className=\"label\">\n                                        <span className=\"label-text\">Name</span>\n                                    </label>\n                                    <input type=\"text\"{...register(\"name\", {required: true, maxLength: 100})} />\n                                </div>\n\n                                <div className=\"form-control\">\n                                    <label className=\"label\">\n                                        <span className=\"label-text\">Email</span>\n                                    </label>\n                                    <input type=\"email\"  {...register(\"email\", {\n                                        required: {\n                                            value:true,\n                                            message:'Please type your email'\n                                        },\n                                        pattern: /[a-z0-9]+@[a-z]+\\.[a-z]{2,3}/\n                                        })} />\n                                </div>\n                                <div className=\"form-control\">\n                                    <label className=\"label\">\n                                        <span className=\"label-text\">Password</span>\n                                    </label>\n                                    <input type=\"password\" {...register(\"password\", {})} required />\n                                </div>\n                                <p className='text-xs underline my-3'><Link to=\"/sign-up\">Forgot Password ?</Link></p>\n\n                                <button className='w-full my-3'>Sign Up</button>\n                            </form>\n                            \n                            <p className='text-sm text-center'>Already have an account?<Link className='!text-primary' to=\"/login\">Login now</Link></p>\n\n                            <p className=\"text-red-600 text-center\">{error?.message ||updatingError?.message || googleError.message}</p>\n                            \n                            <div className=\"divider\">OR</div>\n                            \n                            <button className='btn-outlined' onClick={()=>signInWithGoogle()}>Continue with Google</button>\n                        </div>\n                </div>\n           </div>\n        </div>\n    );\n};\n\nexport default SignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}