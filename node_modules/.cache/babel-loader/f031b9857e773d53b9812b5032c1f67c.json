{"ast":null,"code":"import _objectSpread from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useSignInWithEmailAndPassword,useSignInWithGoogle}from'react-firebase-hooks/auth';import{useForm}from'react-hook-form';import{Link,useLocation,useNavigate}from'react-router-dom';import Loading from'../../Components/Loading/Loading';import auth from'../../firebase.js';import useToken from'../../hooks/useToken';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state,_location$state$from;var _useSignInWithGoogle=useSignInWithGoogle(auth),_useSignInWithGoogle2=_slicedToArray(_useSignInWithGoogle,4),signInWithGoogle=_useSignInWithGoogle2[0],googleUser=_useSignInWithGoogle2[1],loading=_useSignInWithGoogle2[2],error=_useSignInWithGoogle2[3];var _useSignInWithEmailAn=useSignInWithEmailAndPassword(auth),_useSignInWithEmailAn2=_slicedToArray(_useSignInWithEmailAn,4),signInWithEmailAndPassword=_useSignInWithEmailAn2[0],emailUser=_useSignInWithEmailAn2[1],loading2=_useSignInWithEmailAn2[2],error2=_useSignInWithEmailAn2[3];var _useToken=useToken(emailUser||googleUser),_useToken2=_slicedToArray(_useToken,1),token=_useToken2[0];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var handleLoginWithEmailAndPass=function handleLoginWithEmailAndPass(data){var email=data.email;var passWord=data.password;if(email&&passWord){signInWithEmailAndPassword(email,passWord);}};var navigate=useNavigate();var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";if(loading||loading2){return/*#__PURE__*/_jsx(Loading,{});}if(token){navigate(from);}return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flexible h-[700px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card w-96 bg-base-100 shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title font-light mx-auto my-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleLoginWithEmailAndPass),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\"},register(\"email\",{required:{value:true,message:'Please type your email'},pattern:/[a-z0-9]+@[a-z]+\\.[a-z]{2,3}/})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register(\"password\",{})),{},{required:true}))]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs underline my-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\"Forgot Password ?\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full my-3\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-center\",children:[\"New to Doctors Portal? \",/*#__PURE__*/_jsx(Link,{className:\"!text-primary\",to:\"/sign-up\",children:\"Create new account\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-center\",children:(error===null||error===void 0?void 0:error.message)||(error2===null||error2===void 0?void 0:error2.message)}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:\"OR\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-outlined\",onClick:function onClick(){return signInWithGoogle();},children:\"Continue with Google\"})]})})})});};export default Login;","map":{"version":3,"names":["React","useSignInWithEmailAndPassword","useSignInWithGoogle","useForm","Link","useLocation","useNavigate","Loading","auth","useToken","Login","signInWithGoogle","googleUser","loading","error","signInWithEmailAndPassword","emailUser","loading2","error2","token","register","handleSubmit","handleLoginWithEmailAndPass","data","email","passWord","password","navigate","location","from","state","pathname","required","value","message","pattern"],"sources":["/var/www/html/farihatulmaria/farihatulmaria/programming-hero/Module-notes/Module-71/doctor-portal/src/Pages/Login/Login.jsx"],"sourcesContent":["import React from 'react';\nimport { useSignInWithEmailAndPassword, useSignInWithGoogle } from 'react-firebase-hooks/auth';\nimport { useForm } from 'react-hook-form';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport Loading from '../../Components/Loading/Loading';\nimport auth from '../../firebase.js';\nimport useToken from '../../hooks/useToken';\nconst Login = () => {\n    const [signInWithGoogle, googleUser, loading, error] = useSignInWithGoogle(auth);\n    const [\n        signInWithEmailAndPassword,\n        emailUser,\n        loading2,\n        error2,\n      ] = useSignInWithEmailAndPassword(auth);\n\n    const [token] = useToken( emailUser || googleUser );\n    const { register, handleSubmit } = useForm();\n    \n    const handleLoginWithEmailAndPass = (data) => {\n        const email = data.email;\n        const passWord = data.password;\n        if(email && passWord){\n            signInWithEmailAndPassword(email,passWord); \n        }\n    }\n\n    const navigate = useNavigate();\n    let location = useLocation();\n    let from = location.state?.from?.pathname || \"/\";\n    if(loading || loading2){\n        return <Loading/>\n    }\n    if(token){\n        navigate(from);\n    }\n    return (\n        \n            <div className='login'>\n            <div className=\"flexible h-[700px]\">\n                    <div className=\"card w-96 bg-base-100 shadow-xl\">\n                            <div className=\"card-body\">\n                                <h2 className=\"card-title font-light mx-auto my-3\">Login</h2>\n                                <form onSubmit={handleSubmit(handleLoginWithEmailAndPass)}>\n                                    <div className=\"form-control\">\n                                        <label className=\"label\">\n                                            <span className=\"label-text\">Email</span>\n                                        </label>\n                                        <input type=\"email\"  {...register(\"email\", {\n                                            required: {\n                                                value:true,\n                                                message:'Please type your email'\n                                            },\n                                            pattern: /[a-z0-9]+@[a-z]+\\.[a-z]{2,3}/\n                                            })} />\n                                    </div>\n                                    <div className=\"form-control\">\n                                        <label className=\"label\">\n                                            <span className=\"label-text\">Password</span>\n                                        </label>\n                                        <input type=\"password\" {...register(\"password\", {})} required />\n                                    </div>\n                                    <p className='text-xs underline my-3'><Link to=\"/sign-up\">Forgot Password ?</Link></p>\n\n                                    <button className='w-full my-3'>Login</button>\n                                </form>\n                                \n                                <p className='text-sm text-center'>New to Doctors Portal? <Link className='!text-primary' to=\"/sign-up\">Create new account</Link></p>\n                                <p className=\"text-red-600 text-center\">{error?.message||error2?.message}</p>\n                                <div className=\"divider\">OR</div>\n                                <button className='btn-outlined' onClick={()=>signInWithGoogle()}>Continue with Google</button>\n                            </div>\n                    </div>\n            </div>\n            </div>\n        \n    );\n};\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}